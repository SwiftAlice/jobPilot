services:
  - type: web
    name: job-scraper
    env: python
    rootDir: job_scraper
    buildCommand: |
      pip install --upgrade pip setuptools wheel \
      && pip install -r requirements.txt \
      && playwright install chromium || true \
      && (playwright install-deps chromium || echo "Note: Playwright deps install skipped (may require system permissions)")
    startCommand: gunicorn app:app -b 0.0.0.0:$PORT
    envVars:
      - key: PYTHON_VERSION
        value: 3.11.9
    healthCheckPath: /api/health
